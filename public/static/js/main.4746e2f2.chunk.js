(this["webpackJsonpdashboard-react"]=this["webpackJsonpdashboard-react"]||[]).push([[0],{103:function(e,t,a){e.exports=a(200)},109:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},200:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),s=a.n(i),o=a(2),c=a(6),l=a(4),u=a(3),m=a(5),d=a(33),h=a(30),b=a(7),p=a.n(b),f=a(9),g=(a(109),a(12)),v=a(11),S=a(39),E=a(49),y=a.n(E),O=y.a.create({baseURL:"/api"});O.defaults.headers.common["x-access-token"]=localStorage.getItem("token");var C=function(){function e(){Object(o.a)(this,e),this._http=void 0,this.url=void 0,this.parentUrl=void 0,this._http=O,this.initialize=this.initialize.bind(this),this.list=this.list.bind(this)}return Object(c.a)(e,[{key:"initialize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.url=e,this.parentUrl=t}},{key:"list",value:function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.parentUrl||t?"".concat(this.parentUrl+t).concat(this.url,"/list"):"".concat(this.url,"/list"),e.next=3,this._http.get(a);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parentUrl||a?"".concat(this.parentUrl+a).concat(this.url,"/").concat(t):"".concat(this.url,"/").concat(t),e.next=3,this._http.get(n);case 3:return r=e.sent,i=r.data,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parentUrl||a?"".concat(this.parentUrl+a).concat(this.url,"/new"):"".concat(this.url,"/new"),e.next=3,this._http.post(n,t);case 3:return r=e.sent,i=r.data,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parentUrl?"".concat(this.parentUrl).concat(this.url,"/").concat(t):"".concat(this.url,"/").concat(t),e.next=3,this._http.put(n,a);case 3:return r=e.sent,i=r.data,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parentUrl||a?"".concat(this.parentUrl+a).concat(this.url,"/").concat(t):"".concat(this.url,"/").concat(t),e.next=3,this._http.delete(n);case 3:return r=e.sent,i=r.data,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),j=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).initialize("/users"),e.login=e.login.bind(Object(S.a)(e)),e.logout=e.logout.bind(Object(S.a)(e)),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"login",value:function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._http.post("".concat(this.url,"/login"),t);case 2:return a=e.sent,localStorage.setItem("user",JSON.stringify(a.data.user)),localStorage.setItem("token",a.data.token),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._http.get("".concat(this.url,"/logout"));case 2:return t=e.sent,localStorage.setItem("user",null),localStorage.removeItem("token"),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isUserLoggedIn",value:function(){return!!localStorage.getItem("token")}},{key:"getById",value:function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._http.get("".concat(this.url,"/me/").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(C),w=(a(130),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e)))._userService=void 0,a.logoutUser=function(){a._userService.logout().then((function(){window.location.href="/login"}))},a._userService=new j,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar admin-header navbar-expand-lg"},r.a.createElement("button",{className:"btn text-muted nav-item d-md-none",style:{marginLeft:this.props.isVisible?"245px":"0"},onClick:this.props.toggleSidebar},r.a.createElement(g.a,{size:"lg",icon:this.props.isVisible?v.f:v.a})),r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"btn btn-link text-muted",onClick:this.logoutUser},"Logout ",r.a.createElement(g.a,{icon:v.e})))))}}]),t}(n.Component)),A=(a(131),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).renderAdminRoutes=function(){var e=(localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):"").type;return Ee.map((function(t,a){return t.label?"Board"!==e||t.adminOnly?"Admin"===e?r.a.createElement("li",{key:a,className:"sidebarItem"},r.a.createElement(d.c,{exact:!0,to:t.path},t.label)):"":r.a.createElement("li",{key:a,className:"sidebarItem"},r.a.createElement(d.c,{exact:!0,to:t.path},t.label)):""}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("aside",{className:"adminSidebar text-center",style:{left:this.props.isVisible?"0":"-245px"}},r.a.createElement("h1",null," Admin Dashboard "),r.a.createElement("ul",{className:"list-unstyled mt-2"},this.renderAdminRoutes()))}}]),t}(n.Component)),M=(a(134),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isSidebarVisible:!0},a.toggleSidebar=function(){a.setState({isSidebarVisible:!a.state.isSidebarVisible})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{toggleSidebar:this.toggleSidebar,isVisible:this.state.isSidebarVisible}),r.a.createElement("main",{className:"admin-main"},this.props.children),r.a.createElement(A,{isVisible:this.state.isSidebarVisible}))}}]),t}(n.Component)),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e)))._userService=void 0,a._userService=new j,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._userService.isUserLoggedIn()||this.props.history.push("/login");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(M,null,r.a.createElement("div",{className:"admin-home d-flex justify-content-center align-items-center"},r.a.createElement("header",{className:"admin-home__header text-center"},r.a.createElement("h2",null,"Welcome to Dashboard"))))}}]),t}(n.Component),k=a(16),B=a(10),x=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},D=function(e){return 0===e.length},T=(a(135),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={validationMessage:""},a.inputTypes={numericTypes:["number"],textfulTypes:["text","email","password","tel"]},a.isNumericType=function(){return a.inputTypes.numericTypes.includes(a.props.type)},a.isTextFulType=function(){return a.inputTypes.textfulTypes.includes(a.props.type)},a.isRequired=function(){return a.props.required},a.errorPosition=function(){return"top"===a.props.errorPosition?"order-top":"order-bottom"},a.customMessage=function(e,t){var n=a.props.validationMessages;return n&&n[e]||t},a.errorMessage=null,a.validateEmpty=function(e){a.isRequired()&&D(e.value)&&(a.errorMessage=a.customMessage("empty","This field is Required!"))},a.validateEmail=function(e){"email"===a.props.type&&null===a.state.validationMessage&&D(e.value)&&!x(e.value)&&(a.errorMessage=a.customMessage("email","Invalid Email Address"))},a.matchFieldLength=function(e){var t=a.props.length;!D(e.value)&&t&&e.value.length!==t&&(a.errorMessage=a.customMessage("lengthMessage","This field should be ".concat(t," in length")))},a.matchMinValue=function(e){var t=a.props.min;a.isNumericType()&&t&&e.value<t&&(a.errorMessage=a.customMessage("minValueMessage","The minimum value accepted is ".concat(t)))},a.matchMaxValue=function(e){var t=a.props.max;a.isNumericType()&&t&&e.value>t&&(a.errorMessage=a.customMessage("maxValueMessage","The maximum value accepted is ".concat(t)))},a.matchMinLength=function(e){var t=a.props.minLength;a.isTextFulType()&&t&&e.value.length<t&&(a.errorMessage=a.customMessage("minLengthMessage","The field should be at minimum ".concat(t," characters ")))},a.matchMaxLength=function(e){var t=a.props.maxLength;a.isTextFulType()&&t&&e.value.length>t&&(a.errorMessage=a.customMessage("maxLengthMessage","The field should be maximum ".concat(t," characters ")))},a.hasExceededMaxDate=function(e,t){return new Date(e).getTime()>new Date(t).getTime()},a.matchMaxDate=function(e){var t=a.props.maxDate;a.isNumericType()&&t&&a.hasExceededMaxDate(e.value,t)&&(a.errorMessage=a.customMessage("maxDateMessage","The Date should be maximum ".concat(t)))},a.hasExceededMinDate=function(e,t){return new Date(e).getTime()<new Date(t).getTime()},a.matchMinDate=function(e){var t=a.props.minDate;a.isNumericType()&&t&&a.hasExceededMinDate(e.value,t)&&(a.errorMessage=a.customMessage("maxDateMessage","The Date should be minimum ".concat(t)))},a.matchTextPattern=function(e){var t=a.props,n=t.type,r=t.regPattern,i=new RegExp("".concat(r),"g");"text"===n&&r&&!i.test(e.value)&&(a.errorMessage=a.customMessage("matchPattern","The string should match pattern provided"))},a.validateField=function(e){var t=e.target,n=[a.validateEmpty,a.validateEmail,a.matchFieldLength,a.matchMinValue,a.matchMinValue,a.matchMaxLength,a.matchMinLength,a.matchMaxDate,a.matchMinDate,a.matchTextPattern];a.errorMessage=null;for(var r=0,i=n;r<i.length;r++){if((0,i[r])(t),a.errorMessage)break}a.setState({validationMessage:a.errorMessage}),a.props.onInput&&a.props.onInput(e)},a.isAcceptableProp=function(e){return"object"!==typeof e&&!["type","required","minLength","maxLength","length","min","validationMessages","errorPosition","minDate","maxDate","regPattern","options"].includes(e)},a.getAcceptedProps=function(){var e={};for(var t in a.props)("function"===typeof a.props[t]||a.isAcceptableProp(t))&&(e[t]=a.props[t]);return e},a.addClass=function(e){a.props.className&&e.target.classList.add(a.props.className)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.options,n=e.className,i=e.label,s=e.id,o=e.value;return r.a.createElement("section",{className:"input-wrapper"},null!==this.state.validationMessage&&r.a.createElement("span",{className:"error ".concat(this.errorPosition()," text-red")},this.state.validationMessage),i&&r.a.createElement("label",{htmlFor:s}," ",i," ",this.isRequired()&&r.a.createElement("span",{className:"error"},"*")," "),"select"===t?r.a.createElement("select",Object.assign({onChange:this.validateField},this.getAcceptedProps()),r.a.createElement("option",{value:"",disabled:!0},"Choose ",i),a&&a.map((function(e,t){return r.a.createElement("option",{value:e,key:t}," ",e," ")}))):"textarea"===t?r.a.createElement("textarea",Object.assign({},this.getAcceptedProps(),{className:"form-control ".concat(n),onInput:this.validateField})):r.a.createElement("input",Object.assign({},this.getAcceptedProps(),{type:"int"===t||"float"===t||"number"===t?"number":t,className:"form-control ".concat(n),onInput:this.validateField,value:o||""})))}}]),t}(n.Component)),_=a(8),I=a.n(_),L=(a(149),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={user:{username:"",password:""},isLoading:!1,success:"",error:""},a._userService=void 0,a.handleChange=function(e){var t=e.currentTarget,n=t.name,r=t.value,i=a.state.user;a.setState({user:Object(B.a)({},i,Object(k.a)({},n,r))})},a.handleSubmit=function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state.user,a.setState({isLoading:!0}),e.prev=3,e.next=6,a._userService.login(n);case 6:r=e.sent,"Member"===(i=r.data.user.type)?a.setState({isLoading:!1,success:null,error:"You shouldn't be here !"}):"Admin"===i?(a.setState({isLoading:!1,success:"Logged in successfully",error:""}),setTimeout((function(){window.location.href="/"}),2e3)):"Marketer"===i&&(a.setState({isLoading:!1,success:"Logged in successfully",error:""}),setTimeout((function(){window.location.href="/blog"}),2e3)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),a.setState({isLoading:!1,success:null,error:e.t0.response.data.msg});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),a._userService=new j,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.success,i=t.error,s=t.user;return r.a.createElement("section",{className:"login-page"},r.a.createElement("div",{className:"login-form-box"},r.a.createElement("h1",{className:"text-center h3 mb-5"}," Login to the dashboard "),r.a.createElement("form",{className:"login-form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement(T,{type:"text",placeholder:"Who are you ?",label:"Username",id:"username",name:"username",errorPosition:"bottom",value:s.username,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement(T,{type:"password",className:"form-control",placeholder:"Write your password",label:"Password",id:"password",name:"password",errorPosition:"bottom",value:s.password,onChange:this.handleChange})),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},a?"Logging you in ...":"LOGIN"),n?r.a.createElement(I.a,{show:!!n,success:!0,title:n||" ",timeout:2e3,onConfirm:function(){return e.setState({success:null})}}):i?r.a.createElement(I.a,{show:!!i,warning:!0,title:"An error occurred",timeout:2e3,onConfirm:function(){return e.setState({error:null})}},i):"")))}}]),t}(n.Component)),U=(a(150),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).renderTableHeaders=function(){return a.props.config.tableHeaders.map((function(e,t){return"object"===typeof e?r.a.createElement("th",{key:t,scope:"col"},e.name.toUpperCase()):r.a.createElement("th",{key:t,scope:"col"},e.toUpperCase())}))},a.renderTableBody=function(){var e=a.props,t=e.tableBody,n=e.config;return t.map((function(e,t){return r.a.createElement("tr",{key:t},a.props.config.tableHeaders.map((function(t){return"object"===typeof t?r.a.createElement("td",{key:t.name},r.a.createElement(d.b,{to:"".concat(t.href,"/").concat(t.params?e[t.params]:"")},e[t.name])):"createdAt"===t||"created_at"===t?r.a.createElement("td",{key:t}," ",new Date(e[t]).toUTCString().slice(5,16)," "):r.a.createElement("td",{key:t}," ",e[t]," ")})),r.a.createElement("td",null,n.actions.includes("view")&&a.renderViewBtn(e),n.actions.includes("edit")&&a.renderEditBtn(e),n.actions.includes("delete")&&a.renderDeleteBtn(e)))}))},a.renderEditBtn=function(e){var t=a.props.triggerEditEvent;return r.a.createElement("button",{className:"btn btn-secondary mr-2","data-toggle":"modal","data-target":"#editModal",title:"Edit Item",onClick:function(){return t(e,!1,e._id)}},r.a.createElement(g.a,{icon:v.b}))},a.renderViewBtn=function(e){var t=a.props.triggerViewEvent;return r.a.createElement("button",{className:"btn btn-secondary mr-2","data-toggle":"modal","data-target":"#viewModal",title:"View Item",onClick:function(){return t(e)}},r.a.createElement(g.a,{icon:v.c}))},a.renderDeleteBtn=function(e){var t=a.props.deleteRow;return r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return t(e._id,!1)}},r.a.createElement(g.a,{icon:v.g}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.config.className;return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",{className:"".concat(e," table")},r.a.createElement("thead",null,r.a.createElement("tr",null,this.renderTableHeaders(),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,this.renderTableBody())))}}]),t}(n.Component));function P(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"loading ... "))}a(27);var F=a(17),q=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).initialize("/committees"),e}return Object(m.a)(t,e),t}(C),V=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={user:{username:"",password:"",type:"",committee:""},committees:[],isLoading:!1,isImageUploading:!1,errorAlert:""},a._committeeService=void 0,a.setImageUpload=function(e,t){a.setState({isImageUploading:e}),t&&a.setState({user:Object(B.a)({},a.state.user,{image:t})})},a.formatDate=function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},a.handleChange=function(e){var t=e.currentTarget,n=t.name,r=t.value;a.setState({user:Object(B.a)({},a.state.user,Object(k.a)({},n,r))})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.user;D(t.committee)||D(t.password)||D(t.type)||D(t.username)?a.setState({errorAlert:"Please make sure to fill all the required fields !"}):a.props.onSubmit(a.state.user,!0).then((function(){a.resetObj(t),a.setState({user:t})}))},a.generateCode=function(){var e=Math.floor(1e8+9e8*Math.random());a.setState({user:Object(B.a)({},a.state.user,{code:String(e)})})},a.generateArrayOfCommitteesNames=function(e){var t=[];return e.map((function(e){var a=e.name;return t.push(a)})),t},a._committeeService=new q,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.itemToBeEdited;t&&(t.date=this.formatDate(),this.setState({user:t})),this._committeeService.list().then((function(t){e.setState({committees:e.generateArrayOfCommitteesNames(t)})}))}},{key:"resetObj",value:function(e){for(var t in e)e[t]=""}},{key:"render",value:function(){var e=this,t=this.props,a=t.isModalOpened,n=t.itemToBeEdited,i=t.closeModal,s=t.isSubmitting,o=this.state,c=o.user,l=o.isLoading,u=o.isImageUploading,m=o.committees,d=o.errorAlert;return r.a.createElement(F.Modal,{open:a,onClose:function(){return i()},center:!0,styles:{modal:{animation:"".concat(a?"customEnterAnimation":"customLeaveAnimation"," 500ms")}}},l?r.a.createElement(P,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mb-3"}," Member "),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement(T,{type:"text",required:!0,placeholder:"Username",label:"Name",id:"username",name:"username",errorPosition:"bottom",value:c.username,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement(T,{type:"select",className:"form-control",options:["Admin","Marketer"],required:!0,label:"Type",id:"type",name:"type",errorPosition:"bottom",value:c.type,onChange:this.handleChange}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement(T,{type:"select",className:"form-control",options:m&&m.length>0?m:[],required:!0,label:"Committee",id:"committee",name:"committee",errorPosition:"bottom",value:c.committee,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement(T,{type:"text",className:"form-control",required:!0,label:"Password",id:"password",name:"password",errorPosition:"bottom",value:c.password,onChange:this.handleChange}))),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:s||u},u?"Uploading...":s?"Loading ...":n?"Save":"Create"))),r.a.createElement(I.a,{show:!!d,warning:!0,title:"An error occurred",timeout:2e3,onConfirm:function(){return e.setState({errorAlert:null})}},d))}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).tableConfig={tableHeaders:["username","type","committee"],className:"table-striped",actions:["edit","delete"]},a.state={users:[],successAlert:"",errorAlert:"",userToBeEdited:{},isLoading:!1,isCreateModalOpened:!1,isSubmitting:!1,idOfItemToBeDeleted:""},a._userService=void 0,a.createUser=function(e){var t=a.state.users;return a.setState({isSubmitting:!0}),a._userService.create(e).then((function(e){t.unshift(e),a.setState({users:t,successAlert:"User added successfully",errorAlert:"",isCreateModalOpened:!1,isSubmitting:!1})})).catch((function(e){a.setState({errorAlert:e.response.data.msg,successAlert:"",isSubmitting:!1})}))},a.editUser=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.state.userToBeEdited._id;if(t)return a.setState({isSubmitting:!0}),a._userService.update(n,e).then((function(e){a.updateStateWithNewUser(e),a.setState({isSubmitting:!1,successAlert:"User updated successfully",errorAlert:"",userToBeEdited:{}})})).catch((function(e){a.setState({errorAlert:e.response.data.msg})}));a.setState({isSubmitting:!1,userToBeEdited:e})},a.updateStateWithNewUser=function(e){var t=a.state.users,n=t.findIndex((function(t){return t._id===e._id}));t.splice(n,1,e),a.setState({users:t})},a.removeUser=function(e,t){var n=a.state.users;t?a._userService.delete(e).then((function(){a.setState({users:n.filter((function(t){return t._id!==e}))})})):a.setState({idOfItemToBeDeleted:e})},a._userService=new j,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._userService.isUserLoggedIn()){e.next=2;break}return e.abrupt("return",this.props.history.push("/login"));case 2:return this.setState({isLoading:!0}),e.prev=3,e.next=6,this._userService.list();case 6:t=e.sent,this.setState({users:t,isLoading:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),this.setState({errorAlert:"Error retrieving items",isLoading:!1});case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.users,n=t.successAlert,i=t.errorAlert,s=t.userToBeEdited,o=t.idOfItemToBeDeleted,c=t.isLoading,l=t.isCreateModalOpened,u=t.isSubmitting;return r.a.createElement(M,null,r.a.createElement("header",{className:"d-flex justify-content-between container mt-5"},r.a.createElement("h2",null," Users "),r.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.setState({isCreateModalOpened:!0})}},r.a.createElement(g.a,{icon:v.d})," Create New User")),c?r.a.createElement("div",{className:"text-center mt-5"},r.a.createElement(P,null)):a.length>0?r.a.createElement("div",{className:"container mt-5"},r.a.createElement(U,{config:this.tableConfig,triggerEditEvent:this.editUser,deleteRow:this.removeUser,tableBody:a})):r.a.createElement("div",{className:"text-center my-5"},r.a.createElement("p",null,"No users yet")),Object.keys(s).length>1&&r.a.createElement(V,{isModalOpened:Object.keys(s).length>1,itemToBeEdited:s,onSubmit:this.editUser,isSubmitting:u,closeModal:function(){return e.setState({userToBeEdited:{}})}}),r.a.createElement(V,{isModalOpened:l,isSubmitting:u,onSubmit:this.createUser,closeModal:function(){return e.setState({isCreateModalOpened:!1})}}),r.a.createElement(I.a,{show:!!n,success:!0,title:n||" ",timeout:2e3,onConfirm:function(){return e.setState({successAlert:null})}}),r.a.createElement(I.a,{show:!!i,warning:!0,title:"An error occurred",timeout:2e3,onConfirm:function(){return e.setState({errorAlert:null})}},i),r.a.createElement(I.a,{warning:!0,showCancel:!0,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){e.removeUser(o,!0),e.setState({idOfItemToBeDeleted:""})},onCancel:function(){return e.setState({idOfItemToBeDeleted:""})},focusCancelBtn:!0,show:!!o},"You will not be able to recover this item !"))}}]),t}(n.Component),R=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={committee:{name:""},isLoading:!1,errorAlert:""},a.formatDate=function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},a.handleChange=function(e){var t=e.currentTarget,n=t.name,r=t.value;a.setState({committee:Object(B.a)({},a.state.committee,Object(k.a)({},n,r))})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.committee;D(t.name)?a.setState({errorAlert:"Please make sure to fill the name of the committee !"}):a.props.onSubmit(t,!0).then((function(){a.resetObj(t),a.setState({committee:t})}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.itemToBeEdited;e&&(e.date=this.formatDate(),this.setState({committee:e}))}},{key:"resetObj",value:function(e){for(var t in e)e[t]=""}},{key:"render",value:function(){var e=this,t=this.props,a=t.isModalOpened,n=t.itemToBeEdited,i=t.closeModal,s=t.isSubmitting,o=this.state,c=o.committee,l=o.isLoading,u=o.errorAlert;return r.a.createElement(F.Modal,{open:a,onClose:function(){return i()},center:!0,styles:{modal:{animation:"".concat(a?"customEnterAnimation":"customLeaveAnimation"," 500ms")}}},l?r.a.createElement(P,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mb-3"}," Committee "),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement(T,{type:"text",required:!0,placeholder:"Committee name",label:"Name",id:"name",name:"name",errorPosition:"bottom",value:c.name,onChange:this.handleChange}))),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:s},s?"Loading ...":n?"Save":"Create"))),r.a.createElement(I.a,{show:!!u,warning:!0,title:"An error occurred",timeout:2e3,onConfirm:function(){return e.setState({errorAlert:null})}},u))}}]),t}(n.Component),z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).tableConfig={tableHeaders:["name"],className:"table-striped",actions:["edit","delete"]},a.state={committees:[],successAlert:"",errorAlert:"",committeeToBeEdited:{},isLoading:!1,isCreateModalOpened:!1,isSubmitting:!1,idOfItemToBeDeleted:""},a._committeeService=void 0,a._userService=void 0,a.createCommittee=function(e){var t=a.state.committees;return a.setState({isSubmitting:!0}),a._committeeService.create(e).then((function(e){t.unshift(e),a.setState({committees:t,successAlert:"Committee added successfully",errorAlert:"",isCreateModalOpened:!1,isSubmitting:!1})})).catch((function(e){a.setState({errorAlert:"An error occurred",successAlert:"",isSubmitting:!1})}))},a.editCommittee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.state.committeeToBeEdited._id;if(t)return a.setState({isSubmitting:!0}),a._committeeService.update(n,e).then((function(e){a.updateStateWithNewCommittee(e),a.setState({isSubmitting:!1,successAlert:"Committee updated successfully",errorAlert:"",committeeToBeEdited:{}})})).catch((function(e){a.setState({errorAlert:e.response.data.msg})}));a.setState({isSubmitting:!1,committeeToBeEdited:e})},a.updateStateWithNewCommittee=function(e){var t=a.state.committees,n=t.findIndex((function(t){return t._id===e._id}));t.splice(n,1,e),a.setState({committees:t})},a.removeCommittee=function(e,t){var n=a.state.committees;t?a._committeeService.delete(e).then((function(){a.setState({committees:n.filter((function(t){return t._id!==e}))})})).catch((function(e){a.setState({errorAlert:e.response.data.msg})})):a.setState({idOfItemToBeDeleted:e})},a._committeeService=new q,a._userService=new j,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._userService.isUserLoggedIn()){e.next=2;break}return e.abrupt("return",this.props.history.push("/login"));case 2:return this.setState({isLoading:!0}),e.prev=3,e.next=6,this._committeeService.list();case 6:t=e.sent,this.setState({committees:t,isLoading:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),this.setState({errorAlert:"Error retrieving items",isLoading:!1});case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.committees,n=t.successAlert,i=t.errorAlert,s=t.committeeToBeEdited,o=t.idOfItemToBeDeleted,c=t.isLoading,l=t.isCreateModalOpened,u=t.isSubmitting;return r.a.createElement(M,null,r.a.createElement("header",{className:"d-flex justify-content-between container mt-5"},r.a.createElement("h2",null," Committees "),r.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.setState({isCreateModalOpened:!0})}},r.a.createElement(g.a,{icon:v.d})," Create New Committee")),c?r.a.createElement("div",{className:"text-center mt-5"},r.a.createElement(P,null)):a.length>0?r.a.createElement("div",{className:"container mt-5"},r.a.createElement(U,{config:this.tableConfig,triggerEditEvent:this.editCommittee,deleteRow:this.removeCommittee,tableBody:a})):r.a.createElement("div",{className:"text-center my-5"},r.a.createElement("p",null,"No committees yet")),Object.keys(s).length>1&&r.a.createElement(R,{isModalOpened:Object.keys(s).length>1,itemToBeEdited:s,onSubmit:this.editCommittee,isSubmitting:u,closeModal:function(){return e.setState({committeeToBeEdited:{}})}}),r.a.createElement(R,{isModalOpened:l,isSubmitting:u,onSubmit:this.createCommittee,closeModal:function(){return e.setState({isCreateModalOpened:!1})}}),r.a.createElement(I.a,{show:!!n,success:!0,title:n||" ",timeout:2e3,onConfirm:function(){return e.setState({successAlert:null})}}),r.a.createElement(I.a,{show:!!i,warning:!0,title:"An error occurred",timeout:2e3,onConfirm:function(){return e.setState({errorAlert:null})}},i),r.a.createElement(I.a,{warning:!0,showCancel:!0,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){e.removeCommittee(o,!0),e.setState({idOfItemToBeDeleted:""})},onCancel:function(){return e.setState({idOfItemToBeDeleted:""})},focusCancelBtn:!0,show:!!o},"You will not be able to recover this item !"))}}]),t}(n.Component),W=function(e){var t=new FormData;return t.append("file",e),t.append("api_key",293517195754478),t.append("upload_preset","z1ti5v7g"),t.append("api_secret","AUjmulQdxBkHMas_wgPzdmIWM8I"),y.a.post("https://api.cloudinary.com/v1_1/dykflps8g/image/upload",t)},H=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={isImageUploaded:!1,image:""},a.handleImageInputChange=function(e){var t=a.props.setImageUpload,n=e.currentTarget.files;t(!0),W(n&&n[0]).then((function(e){a.setState({isImageUploaded:!0}),t(!1,e.data.secure_url)}))},a.renderImageUpload=function(){return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:a.props.id||"cover"},a.props.label||"Upload Image"," ",a.props.required&&r.a.createElement("span",{className:"error"},"*")),r.a.createElement("input",{type:"file",onChange:a.handleImageInputChange,className:"form-control-file",id:a.props.id||"cover",accept:"image/*",name:a.props.name||"cover"}))},a.renderImagePreview=function(){return r.a.createElement("section",{className:"img-preview"},r.a.createElement("img",{src:a.state.image||a.props.imgUrl,className:"d-block",width:"100%",alt:"Preview"}),r.a.createElement("span",{onClick:a.removeImage,className:"preview-dismiss"},r.a.createElement(g.a,{icon:v.f})))},a.removeImage=function(){a.setState({isImageUploaded:!1,image:""})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.imgUrl&&this.setState({image:this.props.imgUrl})}},{key:"componentDidUpdate",value:function(e){this.props.imgUrl!==this.state.image&&this.props.imgUrl!==e.imgUrl&&this.setState({image:this.props.imgUrl})}},{key:"render",value:function(){var e=this.state.image;return r.a.createElement(r.a.Fragment,null,e?this.renderImagePreview():this.renderImageUpload())}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={bestMember:{name:"",image:"",committee:""},committees:[],errorAlert:"",isLoading:!1,isImageUploading:!1},a._committeeService=void 0,a.generateArrayOfCommitteesNames=function(e){var t=[];return e.map((function(e){var a=e.name;return t.push(a)})),t},a.setImageUpload=function(e,t){a.setState({isImageUploading:e}),t&&a.setState({bestMember:Object(B.a)({},a.state.bestMember,{image:t})})},a.formatDate=function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},a.handleChange=function(e){var t=e.currentTarget,n=t.name,r=t.value;a.setState({bestMember:Object(B.a)({},a.state.bestMember,Object(k.a)({},n,r))})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.bestMember;D(t.committee)||D(t.image)||D(t.name)?a.setState({errorAlert:"Please make sure to fill all the required fields !"}):a.props.onSubmit(t,!0).then((function(){a.resetObj(t),a.setState({bestMember:t})}))},a._committeeService=new q,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.itemToBeEdited;t&&(t.date=this.formatDate(),this.setState({bestMember:t})),this._committeeService.list().then((function(t){e.setState({committees:e.generateArrayOfCommitteesNames(t)})}))}},{key:"resetObj",value:function(e){for(var t in e)e[t]=""}},{key:"render",value:function(){var e=this,t=this.props,a=t.isModalOpened,n=t.itemToBeEdited,i=t.closeModal,s=t.isSubmitting,o=this.state,c=o.bestMember,l=o.isLoading,u=o.isImageUploading,m=o.committees,d=o.errorAlert;return r.a.createElement(F.Modal,{open:a,onClose:function(){return i()},center:!0,styles:{modal:{animation:"".concat(a?"customEnterAnimation":"customLeaveAnimation"," 500ms")}}},l?r.a.createElement(P,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mb-3"}," Best Members "),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement(T,{type:"text",required:!0,placeholder:"Name of the member",label:"Member name",id:"name",name:"name",errorPosition:"bottom",value:c.name,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement(T,{type:"select",className:"form-control",options:m&&m.length>0?m:[],required:!0,label:"Committee",id:"committee",name:"committee",errorPosition:"bottom",value:c.committee,onChange:this.handleChange}))),r.a.createElement(H,{imgUrl:c.image,name:"image",required:!0,setImageUpload:this.setImageUpload}),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:s||u},u?"Uploading...":s?"Loading ...":n?"Save":"Create"))),r.a.createElement(I.a,{show:!!d,warning:!0,title:"An error occurred",timeout:2e3,onConfirm:function(){return e.setState({errorAlert:null})}},d))}}]),t}(n.Component),J=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).initialize("/best-members"),e}return Object(m.a)(t,e),t}(C),Z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).tableConfig={tableHeaders:["name","committee"],className:"table-striped",actions:["edit","delete"]},a.state={bestMembers:[],successAlert:"",errorAlert:"",bestMemberToBeEdited:{},isLoading:!1,isCreateModalOpened:!1,isSubmitting:!1,idOfItemToBeDeleted:""},a._bestMembersService=void 0,a._userService=void 0,a.createBestMember=function(e){var t=a.state.bestMembers;return a.setState({isSubmitting:!0}),a._bestMembersService.create(e).then((function(e){t.unshift(e),a.setState({bestMembers:t,successAlert:"Member added successfully",errorAlert:"",isCreateModalOpened:!1,isSubmitting:!1})})).catch((function(e){a.setState({errorAlert:"An error occurred",successAlert:"",isSubmitting:!1})}))},a.editBestMember=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.state.bestMemberToBeEdited._id;if(t)return a.setState({isSubmitting:!0}),a._bestMembersService.update(n,e).then((function(e){a.updateStateWithNewBestMember(e),a.setState({isSubmitting:!1,successAlert:"Member updated successfully",errorAlert:"",bestMemberToBeEdited:{}})})).catch((function(e){a.setState({errorAlert:e.response.data.msg})}));a.setState({isSubmitting:!1,bestMemberToBeEdited:e})},a.updateStateWithNewBestMember=function(e){var t=a.state.bestMembers,n=t.findIndex((function(t){return t._id===e._id}));t.splice(n,1,e),a.setState({bestMembers:t})},a.removeBestMember=function(e,t){var n=a.state.bestMembers;t?a._bestMembersService.delete(e).then((function(){a.setState({bestMembers:n.filter((function(t){return t._id!==e}))})})):a.setState({idOfItemToBeDeleted:e})},a._bestMembersService=new J,a._userService=new j,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._userService.isUserLoggedIn()){e.next=2;break}return e.abrupt("return",this.props.history.push("/login"));case 2:return this.setState({isLoading:!0}),e.prev=3,e.next=6,this._bestMembersService.list();case 6:t=e.sent,this.setState({bestMembers:t,isLoading:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),this.setState({errorAlert:"Error retrieving items",isLoading:!1});case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.bestMembers,n=t.successAlert,i=t.errorAlert,s=t.bestMemberToBeEdited,o=t.idOfItemToBeDeleted,c=t.isLoading,l=t.isCreateModalOpened,u=t.isSubmitting;return r.a.createElement(M,null,r.a.createElement("header",{className:"d-flex justify-content-between container mt-5"},r.a.createElement("h2",null," Best Members "),r.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.setState({isCreateModalOpened:!0})}},r.a.createElement(g.a,{icon:v.d})," Create New Member")),c?r.a.createElement("div",{className:"text-center mt-5"},r.a.createElement(P,null)):a.length>0?r.a.createElement("div",{className:"container mt-5"},r.a.createElement(U,{config:this.tableConfig,triggerEditEvent:this.editBestMember,deleteRow:this.removeBestMember,tableBody:a})):r.a.createElement("div",{className:"text-center my-5"},r.a.createElement("p",null,"No Members yet")),Object.keys(s).length>1&&r.a.createElement(G,{isModalOpened:Object.keys(s).length>1,itemToBeEdited:s,onSubmit:this.editBestMember,isSubmitting:u,closeModal:function(){return e.setState({bestMemberToBeEdited:{}})}}),r.a.createElement(G,{isModalOpened:l,isSubmitting:u,onSubmit:this.createBestMember,closeModal:function(){return e.setState({isCreateModalOpened:!1})}}),r.a.createElement(I.a,{show:!!n,success:!0,title:n||" ",timeout:2e3,onConfirm:function(){return e.setState({successAlert:null})}}),r.a.createElement(I.a,{show:!!i,warning:!0,title:"An error occurred",timeout:2e3,onConfirm:function(){return e.setState({errorAlert:null})}},i),r.a.createElement(I.a,{warning:!0,showCancel:!0,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){e.removeBestMember(o,!0),e.setState({idOfItemToBeDeleted:""})},onCancel:function(){return e.setState({idOfItemToBeDeleted:""})},focusCancelBtn:!0,show:!!o},"You will not be able to recover this item !"))}}]),t}(n.Component),Q=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).initialize("/messages"),e}return Object(m.a)(t,e),t}(C),$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).tableConfig={tableHeaders:["name","email","phone","subject"],className:"table-striped",actions:["view","delete"]},a.state={messages:[],successAlert:"",errorAlert:"",isLoading:!1,idOfItemToBeDeleted:"",itemToBeViewed:{}},a._messageService=void 0,a._userService=void 0,a.viewMessage=function(e){a.setState({itemToBeViewed:e})},a.closeViewModal=function(){a.setState({itemToBeViewed:{}})},a.removeMessage=function(e,t){var n=a.state.messages;t?a._messageService.delete(e).then((function(){a.setState({messages:n.filter((function(t){return t._id!==e})),successAlert:"Message removed successfully"})})).catch((function(e){a.setState({errorAlert:e.response.data.msg})})):a.setState({idOfItemToBeDeleted:e})},a._messageService=new Q,a._userService=new j,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._userService.isUserLoggedIn()){e.next=2;break}return e.abrupt("return",this.props.history.push("/login"));case 2:return this.setState({isLoading:!0}),e.prev=3,e.next=6,this._messageService.list();case 6:t=e.sent,this.setState({messages:t,isLoading:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),this.setState({errorAlert:"Error retrieving items",isLoading:!1});case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.messages,n=t.successAlert,i=t.errorAlert,s=t.idOfItemToBeDeleted,o=t.itemToBeViewed,c=t.isLoading;return r.a.createElement(M,null,r.a.createElement("header",{className:"d-flex justify-content-between container mt-5"},r.a.createElement("h2",null," Messages ")),c?r.a.createElement("div",{className:"text-center mt-5"},r.a.createElement(P,null)):a.length>0?r.a.createElement("div",{className:"container mt-5"},r.a.createElement(U,{config:this.tableConfig,triggerViewEvent:this.viewMessage,deleteRow:this.removeMessage,tableBody:a})):r.a.createElement("div",{className:"text-center my-5"},r.a.createElement("p",null,"No messages yet")),r.a.createElement(F.Modal,{open:Object.keys(o).length>0,onClose:this.closeViewModal,center:!0},r.a.createElement("h3",null," ",o.subject," "),r.a.createElement("hr",null),r.a.createElement("p",{className:"p-3"}," ",o.message," ")),r.a.createElement(I.a,{show:!!n,success:!0,title:n||" ",timeout:2e3,onConfirm:function(){return e.setState({successAlert:null})}}),r.a.createElement(I.a,{show:!!i,warning:!0,title:"An error occurred",timeout:2e3,onConfirm:function(){return e.setState({errorAlert:null})}},i),r.a.createElement(I.a,{warning:!0,showCancel:!0,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){e.removeMessage(s,!0),e.setState({idOfItemToBeDeleted:""})},onCancel:function(){return e.setState({idOfItemToBeDeleted:""})},focusCancelBtn:!0,show:!!s},"You will not be able to recover this item !"))}}]),t}(n.Component),K=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:{subject:"",body:""},isLoading:!1,errorAlert:""},a.handleChange=function(e){var t=e.currentTarget,n=t.name,r=t.value;a.setState({email:Object(B.a)({},a.state.email,Object(k.a)({},n,r))})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.email;D(t.subject)||D(t.body)?a.setState({errorAlert:"Please make sure to fill all the required fields !"}):a.props.onSubmit(t).then((function(){a.resetObj(t),a.setState({email:t})}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"resetObj",value:function(e){for(var t in e)e[t]=""}},{key:"render",value:function(){var e=this,t=this.props,a=t.isModalOpened,n=t.closeModal,i=t.isSubmitting,s=this.state,o=s.email,c=s.isLoading,l=s.errorAlert;return r.a.createElement(F.Modal,{open:a,onClose:function(){return n()},center:!0,styles:{modal:{animation:"".concat(a?"customEnterAnimation":"customLeaveAnimation"," 500ms")}}},c?r.a.createElement(P,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mb-3"}," Email "),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement(T,{type:"text",required:!0,placeholder:"Email Subject",label:"subject",id:"subject",name:"subject",errorPosition:"bottom",value:o.subject,onChange:this.handleChange}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12"},r.a.createElement(T,{type:"textarea",required:!0,label:"body",id:"body",name:"body",rows:"5",errorPosition:"bottom",value:o.body,onChange:this.handleChange}))),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:i},i?"Sending ...":"Send"))),r.a.createElement(I.a,{show:!!l,warning:!0,title:"An error occurred",timeout:2e3,onConfirm:function(){return e.setState({errorAlert:null})}},l))}}]),t}(n.Component),X=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).initialize("/subscribers"),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"sendEmail",value:function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._http.post("".concat(this.url,"/email"),t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(C),ee=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).tableConfig={tableHeaders:["email"],className:"table-striped",actions:["delete"]},a.state={subscribers:[],successAlert:"",errorAlert:"",isLoading:!1,isCreateModalOpened:!1,isSubmitting:!1,idOfItemToBeDeleted:""},a._subscriberService=void 0,a._userService=void 0,a.sendEmailToSubscribers=function(e){return a._subscriberService.sendEmail(e).then((function(e){a.setState({successAlert:e.msg})})).catch((function(e){return a.setState({errorAlert:e.response.data.msg})}))},a.removeSubscriber=function(e,t){var n=a.state.subscribers;t?a._subscriberService.delete(e).then((function(){a.setState({subscribers:n.filter((function(t){return t._id!==e})),successAlert:"Subscriber removed successfully"})})).catch((function(e){a.setState({errorAlert:e.response.data.msg})})):a.setState({idOfItemToBeDeleted:e})},a._subscriberService=new X,a._userService=new j,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._userService.isUserLoggedIn()){e.next=2;break}return e.abrupt("return",this.props.history.push("/login"));case 2:return this.setState({isLoading:!0}),e.prev=3,e.next=6,this._subscriberService.list();case 6:t=e.sent,this.setState({subscribers:t,isLoading:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),this.setState({errorAlert:"Error retrieving items",isLoading:!1});case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.subscribers,n=t.successAlert,i=t.errorAlert,s=t.idOfItemToBeDeleted,o=t.isLoading,c=t.isCreateModalOpened,l=t.isSubmitting;return r.a.createElement(M,null,r.a.createElement("header",{className:"d-flex justify-content-between container mt-5"},r.a.createElement("h2",null," Subscribers "),r.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.setState({isCreateModalOpened:!0})}},r.a.createElement(g.a,{icon:v.d})," Create New Email")),o?r.a.createElement("div",{className:"text-center mt-5"},r.a.createElement(P,null)):a.length>0?r.a.createElement("div",{className:"container mt-5"},r.a.createElement(U,{config:this.tableConfig,deleteRow:this.removeSubscriber,tableBody:a})):r.a.createElement("div",{className:"text-center my-5"},r.a.createElement("p",null,"No subscribers yet")),r.a.createElement(K,{isModalOpened:c,isSubmitting:l,onSubmit:this.sendEmailToSubscribers,closeModal:function(){return e.setState({isCreateModalOpened:!1})}}),r.a.createElement(I.a,{show:!!n,success:!0,title:n||" ",timeout:2e3,onConfirm:function(){return e.setState({successAlert:null})}}),r.a.createElement(I.a,{show:!!i,warning:!0,title:"An error occurred",timeout:2e3,onConfirm:function(){return e.setState({errorAlert:null})}},i),r.a.createElement(I.a,{warning:!0,showCancel:!0,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){e.removeSubscriber(s,!0),e.setState({idOfItemToBeDeleted:""})},onCancel:function(){return e.setState({idOfItemToBeDeleted:""})},focusCancelBtn:!0,show:!!s},"You will not be able to recover this item !"))}}]),t}(n.Component),te=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).initialize("/categories"),e}return Object(m.a)(t,e),t}(C),ae=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={category:{name:""},errorAlert:"",isLoading:!1},a._categoryService=void 0,a.formatDate=function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},a.handleChange=function(e){var t=e.currentTarget,n=t.name,r=t.value;a.setState({category:Object(B.a)({},a.state.category,Object(k.a)({},n,r))})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.category;D(t.name)&&a.setState({errorAlert:"Please make sure to fill the name of the category !"}),a.props.onSubmit(t,!0).then((function(){a.resetObj(t),a.setState({category:t})}))},a._categoryService=new te,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.itemToBeEdited;e&&(e.date=this.formatDate(),this.setState({category:e}))}},{key:"resetObj",value:function(e){for(var t in e)e[t]=""}},{key:"render",value:function(){var e=this,t=this.props,a=t.isModalOpened,n=t.itemToBeEdited,i=t.closeModal,s=t.isSubmitting,o=this.state,c=o.category,l=o.isLoading,u=o.errorAlert;return r.a.createElement(F.Modal,{open:a,onClose:function(){return i()},center:!0,styles:{modal:{animation:"".concat(a?"customEnterAnimation":"customLeaveAnimation"," 500ms")}}},l?r.a.createElement(P,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mb-3"}," Categories "),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement(T,{type:"text",required:!0,placeholder:"Name of the category",label:"Category name",id:"name",name:"name",errorPosition:"bottom",value:c.name,onChange:this.handleChange}))),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:s},s?"Loading ...":n?"Save":"Create"))),r.a.createElement(I.a,{show:!!u,warning:!0,title:"An error occurred",timeout:2e3,onConfirm:function(){return e.setState({errorAlert:null})}},u))}}]),t}(n.Component),ne=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).tableConfig={tableHeaders:["name"],className:"table-striped",actions:["edit","delete"]},a.state={categories:[],successAlert:"",errorAlert:"",categoryToBeEdited:{},isLoading:!1,isCreateModalOpened:!1,isSubmitting:!1,idOfItemToBeDeleted:""},a._categoriesService=void 0,a._userService=void 0,a.createCategory=function(e){var t=a.state.categories;return a.setState({isSubmitting:!0}),a._categoriesService.create(e).then((function(e){t.unshift(e),a.setState({categories:t,successAlert:"Category added successfully",errorAlert:"",isCreateModalOpened:!1,isSubmitting:!1})})).catch((function(e){a.setState({errorAlert:"An error occurred",successAlert:"",isSubmitting:!1})}))},a.editCategory=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.state.categoryToBeEdited._id;if(t)return a.setState({isSubmitting:!0}),a._categoriesService.update(n,e).then((function(e){a.updateStateWithNewCategory(e),a.setState({isSubmitting:!1,successAlert:"Category updated successfully",errorAlert:"",categoryToBeEdited:{}})})).catch((function(e){a.setState({errorAlert:e.response.data.msg})}));a.setState({isSubmitting:!1,categoryToBeEdited:e})},a.updateStateWithNewCategory=function(e){var t=a.state.categories,n=t.findIndex((function(t){return t._id===e._id}));t.splice(n,1,e),a.setState({categories:t})},a.removeCategory=function(e,t){var n=a.state.categories;t?a._categoriesService.delete(e).then((function(){a.setState({categories:n.filter((function(t){return t._id!==e}))})})).catch((function(e){a.setState({errorAlert:e.response.data.msg})})):a.setState({idOfItemToBeDeleted:e})},a._categoriesService=new te,a._userService=new j,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._userService.isUserLoggedIn()){e.next=2;break}return e.abrupt("return",this.props.history.push("/login"));case 2:return this.setState({isLoading:!0}),e.prev=3,e.next=6,this._categoriesService.list();case 6:t=e.sent,this.setState({categories:t,isLoading:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),this.setState({errorAlert:"Error retrieving items",isLoading:!1});case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.categories,n=t.successAlert,i=t.errorAlert,s=t.categoryToBeEdited,o=t.idOfItemToBeDeleted,c=t.isLoading,l=t.isCreateModalOpened,u=t.isSubmitting;return r.a.createElement(M,null,r.a.createElement("header",{className:"d-flex justify-content-between container mt-5"},r.a.createElement("h2",null," Categories "),r.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.setState({isCreateModalOpened:!0})}},r.a.createElement(g.a,{icon:v.d})," Create New Category")),c?r.a.createElement("div",{className:"text-center mt-5"},r.a.createElement(P,null)):a.length>0?r.a.createElement("div",{className:"container mt-5"},r.a.createElement(U,{config:this.tableConfig,triggerEditEvent:this.editCategory,deleteRow:this.removeCategory,tableBody:a})):r.a.createElement("div",{className:"text-center my-5"},r.a.createElement("p",null,"No Categories yet")),Object.keys(s).length>1&&r.a.createElement(ae,{isModalOpened:Object.keys(s).length>1,itemToBeEdited:s,onSubmit:this.editCategory,isSubmitting:u,closeModal:function(){return e.setState({categoryToBeEdited:{}})}}),r.a.createElement(ae,{isModalOpened:l,isSubmitting:u,onSubmit:this.createCategory,closeModal:function(){return e.setState({isCreateModalOpened:!1})}}),r.a.createElement(I.a,{show:!!n,success:!0,title:n||" ",timeout:2e3,onConfirm:function(){return e.setState({successAlert:null})}}),r.a.createElement(I.a,{show:!!i,warning:!0,title:"An error occurred",timeout:2e3,onConfirm:function(){return e.setState({errorAlert:null})}},i),r.a.createElement(I.a,{warning:!0,showCancel:!0,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){e.removeCategory(o,!0),e.setState({idOfItemToBeDeleted:""})},onCancel:function(){return e.setState({idOfItemToBeDeleted:""})},focusCancelBtn:!0,show:!!o},"You will not be able to recover this item !"))}}]),t}(n.Component),re=a(40),ie=a(101),se=a.n(ie),oe=a(35),ce=a.n(oe),le=(a(97),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={article:{title:"",body:"",lang:"",authorName:"",authorProfileLink:"",cover:"",metaDescription:"",categories:[]},categories:[],errorAlert:"",isLoading:!1,isImageUploading:!1},a._categoriesService=void 0,a.setImageUpload=function(e,t){a.setState({isImageUploading:e}),t&&a.setState({article:Object(B.a)({},a.state.article,{cover:t})})},a.formatDate=function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},a.handleChange=function(e){var t=e.currentTarget,n=t.name,r=t.value;a.setState({article:Object(B.a)({},a.state.article,Object(k.a)({},n,r))})},a.handleCreate=function(e){a._categoriesService.create({name:e}).then((function(e){a.setState({article:Object(B.a)({},a.state.article,{categories:[].concat(Object(re.a)(a.state.article.categories),[e])}),categories:[].concat(Object(re.a)(a.state.categories),[e])})})).catch((function(e){a.setState({errorAlert:e.response.data.msg})}))},a.handleSubmit=function(e){e.preventDefault();var t=a.state.article;D(t.title)||D(t.metaDescription)||D(t.body)||D(t.cover)||D(t.authorName)||D(t.authorProfileLink)?a.setState({errorAlert:"Please make sure to fill all the required fields !"}):a.props.onSubmit(t,!0).then((function(){a.resetObj(t),a.setState({article:t})}))},a._categoriesService=new te,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.itemToBeEdited;t&&(t.date=this.formatDate(),this.setState({article:t})),this._categoriesService.list().then((function(t){e.setState({categories:t})}))}},{key:"resetObj",value:function(e){for(var t in e)e[t]=""}},{key:"render",value:function(){var e=this,t=this.props,a=t.isModalOpened,n=t.itemToBeEdited,i=t.closeModal,s=t.isSubmitting,o=this.state,c=o.article,l=o.isLoading,u=o.isImageUploading,m=o.categories,d=o.errorAlert;return r.a.createElement(F.Modal,{open:a,onClose:function(){return i()},center:!0,styles:{modal:{animation:"".concat(a?"customEnterAnimation":"customLeaveAnimation"," 500ms")}}},l?r.a.createElement(P,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mb-3"}," Article "),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement(T,{type:"text",required:!0,placeholder:"blog title",label:"Title",id:"title",name:"title",errorPosition:"bottom",value:c.title,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"category"},"Categories"),r.a.createElement(se.a,{id:"category",data:m,textField:"name",valueField:"id",value:c.categories,allowCreate:"onFilter",onCreate:function(t){return e.handleCreate(t)},onChange:function(t){return e.setState({article:Object(B.a)({},c,{categories:t})})}})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement(T,{type:"select",options:["Arabic","English"],required:!0,placeholder:"language of the article",label:"Language",id:"language",name:"lang",errorPosition:"bottom",className:"form-control",value:c.lang,onChange:this.handleChange}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12"},r.a.createElement(T,{type:"textarea",required:!0,label:"Meta Description",placeholder:"A short description for SEO",id:"metaDescription",name:"metaDescription",rows:"3",errorPosition:"bottom",value:c.metaDescription,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("label",null," ","Body of the article ",r.a.createElement("span",{className:"error"},"*")," "),r.a.createElement(ce.a,{name:"body",setContents:c.body,placeholder:"Add the article body ...",onChange:function(t){return e.setState({article:Object(B.a)({},e.state.article,{body:t})})},setOptions:{buttonList:oe.buttonList.complex}}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement(T,{type:"text",required:!0,placeholder:"Name of the author",label:"Author Name",id:"authorName",name:"authorName",errorPosition:"bottom",value:c.authorName,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement(T,{type:"text",required:!0,placeholder:"Link of the facebook profile of the author",label:"Author Profile Link",id:"authorProfileLink",name:"authorProfileLink",errorPosition:"bottom",value:c.authorProfileLink,onChange:this.handleChange}))),r.a.createElement(H,{imgUrl:c.cover,required:!0,label:"Blog Cover",setImageUpload:this.setImageUpload}),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:s||u},u?"Uploading...":s?"Loading ...":n?"Save":"Create"))),r.a.createElement(I.a,{show:!!d,warning:!0,title:"An error occurred",timeout:2e3,onConfirm:function(){return e.setState({errorAlert:null})}},d))}}]),t}(n.Component)),ue=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).initialize("/blog"),e}return Object(m.a)(t,e),t}(C),me=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).tableConfig={tableHeaders:["title","createdAt"],className:"table-striped",actions:["edit","delete"]},a.state={articles:[],successAlert:"",errorAlert:"",articleToBeEdited:{},isLoading:!1,isCreateModalOpened:!1,isSubmitting:!1,idOfItemToBeDeleted:""},a._blogService=void 0,a._userService=void 0,a.createArticle=function(e){var t=a.state.articles;return a.setState({isSubmitting:!0}),a._blogService.create(e).then((function(e){t.unshift(e),a.setState({articles:t,successAlert:"Article added successfully",errorAlert:"",isCreateModalOpened:!1,isSubmitting:!1})})).catch((function(e){a.setState({errorAlert:"An error occurred",successAlert:"",isSubmitting:!1})}))},a.editArticle=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.state.articleToBeEdited._id;if(t)return a.setState({isSubmitting:!0}),a._blogService.update(n,e).then((function(e){a.updateStateWithNewArticle(e),a.setState({isSubmitting:!1,successAlert:"Article updated successfully",errorAlert:"",articleToBeEdited:{}})})).catch((function(e){a.setState({errorAlert:e.response.data.msg})}));a.setState({isSubmitting:!1,articleToBeEdited:e})},a.updateStateWithNewArticle=function(e){var t=a.state.articles,n=t.findIndex((function(t){return t._id===e._id}));t.splice(n,1,e),a.setState({articles:t})},a.removeArticle=function(e,t){var n=a.state.articles;t?a._blogService.delete(e).then((function(){a.setState({articles:n.filter((function(t){return t._id!==e}))})})):a.setState({idOfItemToBeDeleted:e})},a._blogService=new ue,a._userService=new j,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._userService.isUserLoggedIn()){e.next=2;break}return e.abrupt("return",this.props.history.push("/login"));case 2:return this.setState({isLoading:!0}),e.prev=3,e.next=6,this._blogService.list();case 6:t=e.sent,this.setState({articles:t,isLoading:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),this.setState({errorAlert:"Error retrieving items",isLoading:!1});case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.articles,n=t.successAlert,i=t.errorAlert,s=t.articleToBeEdited,o=t.idOfItemToBeDeleted,c=t.isLoading,l=t.isCreateModalOpened,u=t.isSubmitting;return r.a.createElement(M,null,r.a.createElement("header",{className:"d-flex justify-content-between container mt-5"},r.a.createElement("h2",null," Articles "),r.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.setState({isCreateModalOpened:!0})}},r.a.createElement(g.a,{icon:v.d})," Create New Article")),c?r.a.createElement("div",{className:"text-center mt-5"},r.a.createElement(P,null)):a.length>0?r.a.createElement("div",{className:"container mt-5"},r.a.createElement(U,{config:this.tableConfig,triggerEditEvent:this.editArticle,deleteRow:this.removeArticle,tableBody:a})):r.a.createElement("div",{className:"text-center my-5"},r.a.createElement("p",null,"No Articles yet")),Object.keys(s).length>1&&r.a.createElement(le,{isModalOpened:Object.keys(s).length>1,itemToBeEdited:s,onSubmit:this.editArticle,isSubmitting:u,closeModal:function(){return e.setState({articleToBeEdited:{}})}}),r.a.createElement(le,{isModalOpened:l,isSubmitting:u,onSubmit:this.createArticle,closeModal:function(){return e.setState({isCreateModalOpened:!1})}}),r.a.createElement(I.a,{show:!!n,success:!0,title:n||" ",timeout:2e3,onConfirm:function(){return e.setState({successAlert:null})}}),r.a.createElement(I.a,{show:!!i,warning:!0,title:"An error occurred",timeout:2e3,onConfirm:function(){return e.setState({errorAlert:null})}},i),r.a.createElement(I.a,{warning:!0,showCancel:!0,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){e.removeArticle(o,!0),e.setState({idOfItemToBeDeleted:""})},onCancel:function(){return e.setState({idOfItemToBeDeleted:""})},focusCancelBtn:!0,show:!!o},"You will not be able to recover this item !"))}}]),t}(n.Component),de=a(62),he=a.n(de),be=a(102),pe=a.n(be),fe=a(66),ge=a.n(fe),ve=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).initialize("/events"),e}return Object(m.a)(t,e),t}(C);he.a.locale("en"),pe()();var Se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={event:{title:"",description:"",metaDescription:"",startDate:null,endDate:null,location:"",cover:"",images:[],status:"",formLink:""},errorAlert:"",isLoading:!1,isImageUploading:!1},a._eventService=void 0,a.setImageUpload=function(e,t){a.setState({isImageUploading:e}),t&&a.setState({event:Object(B.a)({},a.state.event,{cover:t})})},a.uploadGalleryImage=function(e,t){a.setState({isImageUploading:e}),t&&a.setState({event:Object(B.a)({},a.state.event,{images:[].concat(Object(re.a)(a.state.event.images),[t])})})},a.formatDate=function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},a.handleChange=function(e){var t=e.currentTarget,n=t.name,r=t.value;a.setState({event:Object(B.a)({},a.state.event,Object(k.a)({},n,r))})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.event;D(t.title)||D(t.description)||D(t.startDate)||D(t.endDate)||D(t.cover)||D(t.metaDescription)||D(t.status)?a.setState({errorAlert:"Please make sure to fill all the required fields !"}):a.setState({event:Object(B.a)({},t,{startDate:t.startDate.toString(),endDate:t.endDate.toString()})},(function(){a.props.onSubmit(t,!0).then((function(){a.resetObj(t),a.setState({event:t})}))}))},a._eventService=new ve,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.itemToBeEdited;e&&(e.date=this.formatDate(),this.setState({event:e}))}},{key:"resetObj",value:function(e){for(var t in e)e[t]=""}},{key:"convertDateStringIntoDateObject",value:function(e){return"string"===typeof e?new Date(Date.parse(e)):e}},{key:"render",value:function(){var e=this,t=this.props,a=t.isModalOpened,n=t.itemToBeEdited,i=t.closeModal,s=t.isSubmitting,o=this.state,c=o.event,l=o.isLoading,u=o.isImageUploading,m=o.errorAlert;return r.a.createElement(F.Modal,{open:a,onClose:function(){return i()},center:!0,styles:{modal:{animation:"".concat(a?"customEnterAnimation":"customLeaveAnimation"," 500ms")}}},l?r.a.createElement(P,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mb-3"}," Event "),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement(T,{type:"text",required:!0,placeholder:"Event title",label:"Title",id:"title",name:"title",errorPosition:"bottom",value:c.title,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement(T,{type:"url",className:"form-control",label:"Form Link",id:"formLink",name:"formLink",errorPosition:"bottom",value:c.formLink,onChange:this.handleChange}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-6"},r.a.createElement(T,{type:"text",className:"form-control",label:"Location",id:"location",name:"location",errorPosition:"bottom",value:c.location,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-6"},r.a.createElement(T,{type:"select",options:["upcoming","past"],className:"form-control",required:!0,label:"Status",id:"status",name:"status",errorPosition:"bottom",value:c.status,onChange:this.handleChange}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("label",{htmlFor:"startDate"},"Start Date ",r.a.createElement("span",{className:"error"},"*")),r.a.createElement(ge.a,{value:c.startDate?this.convertDateStringIntoDateObject(c.startDate):new Date,onChange:function(t){e.setState({event:Object(B.a)({},c,{startDate:t})})}})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("label",{htmlFor:"endDate"},"End Date ",r.a.createElement("span",{className:"error"},"*")),r.a.createElement(ge.a,{value:c.endDate?this.convertDateStringIntoDateObject(c.endDate):new Date,min:c.startDate?this.convertDateStringIntoDateObject(c.startDate):new Date,onChange:function(t){e.setState({event:Object(B.a)({},c,{endDate:t})})}}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-12 mt-4"},r.a.createElement(T,{type:"textarea",required:!0,label:"Meta Description",placeholder:"A short description for SEO",id:"metaDescription",name:"metaDescription",rows:"3",errorPosition:"bottom",value:c.metaDescription,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("label",null,"Event Description ",r.a.createElement("span",{className:"error"},"*")),r.a.createElement(ce.a,{name:"body",setContents:c.description,placeholder:"Add the article body ...",onChange:function(t){return e.setState({event:Object(B.a)({},e.state.event,{description:t})})},setOptions:{buttonList:oe.buttonList.complex}}))),r.a.createElement("div",{className:"row my-4"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(H,{imgUrl:c.cover,name:"cover",required:!0,id:"cover",label:"Event Cover",setImageUpload:this.setImageUpload}))),r.a.createElement("div",{className:"row"},r.a.createElement("h4",null,"Gallery"),r.a.createElement("div",{className:"col-md-12"},c.images.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"d-flex"},c.images.map((function(t){return r.a.createElement(H,{key:t,imgUrl:t,setImageUpload:e.uploadGalleryImage})}))),r.a.createElement(H,{id:"galleryImage",imgUrl:"",setImageUpload:this.uploadGalleryImage})):r.a.createElement(H,{id:"galleryImage",imgUrl:"",setImageUpload:this.uploadGalleryImage}))),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!!m||s||u},u?"Uploading...":s?"Loading ...":n?"Save":"Create"))),r.a.createElement(I.a,{show:!!m,warning:!0,title:"An error occurred",timeout:2e3,onConfirm:function(){return e.setState({errorAlert:null})}},m))}}]),t}(n.Component),Ee=[{path:"/",label:"Home",component:N,adminOnly:!0},{path:"/login",component:L},{path:"/blog",label:"Blog",component:me},{path:"/categories",label:"Blog Categories",component:ne},{path:"/events",label:"Events",component:function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).tableConfig={tableHeaders:["title","status"],className:"table-striped",actions:["edit","delete"]},a.state={events:[],successAlert:"",errorAlert:"",eventToBeEdited:{},isLoading:!1,isCreateModalOpened:!1,isSubmitting:!1,idOfItemToBeDeleted:""},a._eventService=void 0,a._userService=void 0,a.createEvent=function(e){var t=a.state.events;return a.setState({isSubmitting:!0}),a._eventService.create(e).then((function(e){t.unshift(e),a.setState({events:t,successAlert:"Event added successfully",errorAlert:"",isCreateModalOpened:!1,isSubmitting:!1})})).catch((function(e){a.setState({errorAlert:e.response.data.msg,successAlert:"",isSubmitting:!1})}))},a.editEvent=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.state.eventToBeEdited._id;if(t)return a.setState({isSubmitting:!0}),a._eventService.update(n,e).then((function(e){a.updateStateWithNewEvent(e),a.setState({isSubmitting:!1,successAlert:"Event updated successfully",errorAlert:"",eventToBeEdited:{}})})).catch((function(e){e.response&&a.setState({errorAlert:e.response.data.msg})}));a.setState({isSubmitting:!1,eventToBeEdited:e})},a.updateStateWithNewEvent=function(e){var t=a.state.events,n=t.findIndex((function(t){return t._id===e._id}));t.splice(n,1,e),a.setState({events:t})},a.removeEvent=function(e,t){var n=a.state.events;t?a._eventService.delete(e).then((function(){a.setState({events:n.filter((function(t){return t._id!==e}))})})):a.setState({idOfItemToBeDeleted:e})},a._eventService=new ve,a._userService=new j,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._userService.isUserLoggedIn()){e.next=2;break}return e.abrupt("return",this.props.history.push("/login"));case 2:return this.setState({isLoading:!0}),e.prev=3,e.next=6,this._eventService.list();case 6:t=e.sent,this.setState({events:t,isLoading:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),this.setState({errorAlert:"Error retrieving items",isLoading:!1});case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.events,n=t.successAlert,i=t.errorAlert,s=t.eventToBeEdited,o=t.idOfItemToBeDeleted,c=t.isLoading,l=t.isCreateModalOpened,u=t.isSubmitting;return r.a.createElement(M,null,r.a.createElement("header",{className:"d-flex justify-content-between container mt-5"},r.a.createElement("h2",null," Events "),r.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.setState({isCreateModalOpened:!0})}},r.a.createElement(g.a,{icon:v.d})," Create New Event")),c?r.a.createElement("div",{className:"text-center mt-5"},r.a.createElement(P,null)):a.length>0?r.a.createElement("div",{className:"container mt-5"},r.a.createElement(U,{config:this.tableConfig,triggerEditEvent:this.editEvent,deleteRow:this.removeEvent,tableBody:a})):r.a.createElement("div",{className:"text-center my-5"},r.a.createElement("p",null,"No Events yet")),Object.keys(s).length>1&&r.a.createElement(Se,{isModalOpened:Object.keys(s).length>1,itemToBeEdited:s,onSubmit:this.editEvent,isSubmitting:u,closeModal:function(){return e.setState({eventToBeEdited:{}})}}),r.a.createElement(Se,{isModalOpened:l,isSubmitting:u,onSubmit:this.createEvent,closeModal:function(){return e.setState({isCreateModalOpened:!1})}}),r.a.createElement(I.a,{show:!!n,success:!0,title:n||" ",timeout:2e3,onConfirm:function(){return e.setState({successAlert:null})}}),r.a.createElement(I.a,{show:!!i,warning:!0,title:"An error occurred",timeout:2e3,onConfirm:function(){return e.setState({errorAlert:null})}},i),r.a.createElement(I.a,{warning:!0,showCancel:!0,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:"Are you sure?",onConfirm:function(){e.removeEvent(o,!0),e.setState({idOfItemToBeDeleted:""})},onCancel:function(){return e.setState({idOfItemToBeDeleted:""})},focusCancelBtn:!0,show:!!o},"You will not be able to recover this item !"))}}]),t}(n.Component)},{path:"/committees",label:"Committees",component:z,adminOnly:!0},{path:"/users",label:"Users",component:Y,adminOnly:!0},{path:"/best-members",label:"Best Members",component:Z,adminOnly:!0},{path:"/subscribers",label:"Subscribers",component:ee,adminOnly:!0},{path:"/messages",label:"Inbox",component:$,adminOnly:!0}],ye=(a(98),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(h.c,null,Ee.map((function(e,t){return r.a.createElement(h.a,{key:"adRoute".concat(t),exact:!0,path:e.path,component:e.component})}))))}}]),t}(n.Component));a(198),a(199);s.a.render(r.a.createElement(ye,null),document.getElementById("root"))},98:function(e,t,a){}},[[103,1,2]]]);
//# sourceMappingURL=main.4746e2f2.chunk.js.map